<html>
	<head>
		<title>Trips</title>
		<div class="row">
		<div class="col-xs-6">
	</head>

	<body>
		    <%= line_chart @trips.group_by_day(:start_time).count, xtitle: "Date", ytitle: "Trips", download: true, title: "Trips by Date", width: "800px", height: "500px" %>
		  </div>
		</div>

		<style>
	        body{
	            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
	            color: black;
	         }
	         .date_container{
	            margin: auto;
	            padding: auto;
	         }
	         #date_content{
	            title: 'Start Date';
	            align-items: left;
	            align-self: left;
	            align-content: left;
	            text-align: left;
	         }
      </style>
      <div class="date_container">
      <div class="row">
          <div class = "col-sm-12 col-lg-12 " id = "date_content" >
            <br>
              <p>Start Date <input type = "date" name = "start_date" id = "start_date"></p>
              <p>End Date <input type = "date" name = "end_date" id = "end_date"> <button id = "end_date_filter" >Filter Date</button></p>
            </br>
          </div>
   	  </div>
      </div>

      <%= yield %>
      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
      <script src ="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
        <script >
          window.onload=function() {
              const submitButton= document.getElementById("end_date_filter")
              var start_date = document.getElementById("start_date")
              var end_date = document.getElementById("end_date")
              submitButton.addEventListener("click", function() {
                console.log("Clicked button")
                console.log(start_date.value)
                console.log(end_date.value)
                location.href = "/trips?start_date=" + start_date.value + "&end_date=" + end_date.value;
            })
          }
      </script>
    </body>
</html>
